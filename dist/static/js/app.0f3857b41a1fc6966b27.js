webpackJsonp([0],[,,function(e,t,a){"use strict";var r=a(1),s=a(16),n=a(12),i=a.n(n);r.a.use(s.a),t.a=new s.a({routes:[{path:"/",name:"WaterQuality",component:i.a}]})},function(e,t,a){a(10);var r=a(0)(a(4),a(15),null,null);e.exports=r.exports},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"HcWaterQuality"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"alert",props:["item"],data:function(){return{}},computed:{alert_class:function(){return this.item.class||"alert-info"},icon:function(){switch(this.alert_class){case"alert-warning":return"fa-warning";case"alert-danger":return"fa-times-rectangle";case"alert-success":return"fa-check-circle";default:return"fa-info-circle"}},item_index:function(){return this.$parent.alerts.indexOf(this.item)}},methods:{remove:function(){this.$parent.alerts.splice(this.item_index,1)}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),s=a(11),n=a.n(s);t.default={name:"address-form",data:function(){return{alerts:[],webmap:null,mapview:null,map_layer:null,address_input:null,address_geo:null,service_area:null,sublayer:null,areas_checked:0}},components:{alert:n.a},watch:{areas_checked:function(){this.areas_checked!==window.wqSublayers.length||this.sublayer||this.alerts.push({class:"alert-warning",title:"No Water Information for this Address",text:"Perhaps you are not a Hillsborough County Water customer.",footer_txt:'If you feel this is incorrect, please contact <a href="http://hillsboroughcounty.org/en/government/departments/public-utilities">Public Utilities</a> (813) 272-5977.'})}},methods:{initMap:function(){var e=this;r.a(["esri/WebMap","esri/views/MapView","esri/layers/MapImageLayer","dojo/domReady!"],function(t,a,r){e.webmap=new t({portalItem:{id:"b51fb4e76e154e1b93b630eac3ea94ae"}}),e.mapview=new a({container:"mapDiv",map:e.webmap});var s=window.wqSublayers.map(function(e){return e.opacity=.65,e.popupTemplate={title:e.areaName,content:'<a href="'+e.pdfLink+'" target="_blank">Water Quality Report</a>'},e});e.map_layer=new r({url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/CoinMap/CountyWebsiteRedesign_PW_ServiceAreas_20160909/MapServer",sublayers:s}),e.webmap.add(e.map_layer)})},findAddress:function(){var e=this;this.alerts=[],this.service_area=null,this.sublayer=null,this.areas_checked=0,r.a(["esri/tasks/Locator"],function(t){new t({url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/Geocoding/DBO_composite_address_locator/GeocodeServer"}).addressToLocations({address:{SingleLine:e.address_input},maxLocations:1}).then(function(t){e.address_input=t[0].address,e.address_geo=t[0].location,e.findServiceArea()}).otherwise(function(t){e.alerts.push({class:"alert-warning",title:"Address Not Found",text:"Please confirm the address and search again.",footer_txt:'If you feel this is an error, please contact the <a href="http://hcflgov.net/government/departments/customer">Customer Service Center</a>.'})})})},findServiceArea:function(){var e=this;r.a(["esri/tasks/QueryTask","esri/tasks/support/Query"],function(t,a){var r=new a;r.outFields=["*"],r.geometry=e.address_geo,e.map_layer.sublayers.map(function(t){return t.queryFeatures(r).then(function(a){a.features.length&&(e.service_area=a.features[0],e.sublayer=t),e.areas_checked+=1}),t})})}},mounted:function(){var e=this;r.b()||r.c(function(t){t&&console.error(t),e.initMap()},{url:"https://js.arcgis.com/4.3"})}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),s=a(3),n=a.n(s),i=a(2);r.a.config.productionTip=!1,new r.a({el:"#HcWaterQuality",router:i.a,template:"<App/>",components:{App:n.a}})},,function(e,t){},function(e,t){},function(e,t,a){a(9);var r=a(0)(a(5),a(14),"data-v-7fd78848",null);e.exports=r.exports},function(e,t,a){var r=a(0)(a(6),a(13),null,null);e.exports=r.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[e._m(0),e._v(" "),a("form",{on:{submit:function(t){t.preventDefault(),e.findAddress()}}},[a("div",{staticClass:"input-group form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.address_input,expression:"address_input"}],staticClass:"form-control",attrs:{id:"address_input",placeholder:"Your Address...",autocomplete:"off",required:""},domProps:{value:e.address_input},on:{input:function(t){t.target.composing||(e.address_input=t.target.value)}}}),e._v(" "),e._m(1)])]),e._v(" "),e._l(e.alerts,function(e){return a("alert",{key:e.id,attrs:{item:e}})}),e._v(" "),e.sublayer?a("p",{staticClass:"text-center lead"},[e._v("\n\t\tThis address is in the\n\t\t"),a("strong",{staticClass:"text-info"},[a("em",[a("a",{attrs:{href:e.sublayer.pdfLink,target:"_blank",title:"View the Water Quality Report"}},[e._v("\n\t\t\t\t\t"+e._s(e.sublayer.areaName)+"\n\t\t\t\t")])])]),e._v("\n\t\tWater System\n\t")]):e._e(),e._v(" "),a("hr")],2)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"embed-responsive embed-responsive-16by9 thumbnail"},[a("div",{staticClass:"embed-responsive-item",attrs:{id:"mapDiv"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-info",attrs:{type:"submit"}},[e._v("Find")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"alert",class:e.alert_class},[a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){e.remove()}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã—")])]),e._v(" "),a("i",{staticClass:"fa fa-fw",class:e.icon}),e._v(" "),e.item.title?a("strong",[e._v(e._s(e.item.title))]):e._e(),e._v(" "),a("div",{domProps:{innerHTML:e._s(e.item.text)}}),e._v(" "),e.item.footer_txt?a("footer",{staticClass:"small",domProps:{innerHTML:e._s(e.item.footer_txt)}}):e._e()])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"HcWaterQuality"}},[a("router-view")],1)},staticRenderFns:[]}}],[7]);
//# sourceMappingURL=app.0f3857b41a1fc6966b27.js.map