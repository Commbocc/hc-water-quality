{"version":3,"sources":["webpack:///static/js/app.js","webpack:///./src/main.js","webpack:///App.vue","webpack:///./src/App.vue","webpack:///./src/App.vue?7393"],"names":["webpackJsonp","151","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","n","config","productionTip","el","template","components","App","a","153","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default","__WEBPACK_IMPORTED_MODULE_1_esri_loader__","__WEBPACK_IMPORTED_MODULE_2_esri_portal_map__","__WEBPACK_IMPORTED_MODULE_2_esri_portal_map___default","name","EsriPortalMap","methods","mapready","map","i","then","_ref","_ref2","Search","FeatureLayer","Query","mapview","popup","dockEnabled","dockOptions","buttonEnabled","featureLayer","url","opacity","popupTemplate","title","content","f","window","potableWaterSystems","graphic","attributes","OBJECTID","WaterQualityPDFsrc","webmap","add","searchWidget","view","sources","locator","singleLineFieldName","placeholder","popupEnabled","ui","position","index","on","e","query","outFields","geometry","result","extent","queryFeatures","features","length","open","location","391","exports","Component","393","render","_vm","this","_h","$createElement","_c","_self","attrs","id","tag","staticRenderFns","395"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,YACAC,QAAOC,eAAeH,EAAqB,cAAgBI,OAAO,GAC7C,IAAIC,GAAoCJ,EAAoB,KACxDK,EAAqCL,EAAoB,KACzDM,EAA6CN,EAAoBO,EAAEF,ECJ5FD,GAAA,EAAII,OAAOC,eAAgB,EAG3B,GAAIL,GAAA,GACFM,GAAI,kBACJC,SAAU,SACVC,YAAcC,IAAAP,EAAAQ,MDaVC,IACA,SAAUjB,EAAQC,EAAqBC,GAE7C,YACAC,QAAOC,eAAeH,EAAqB,cAAgBI,OAAO,GAC7C,IAAIa,GAAoEhB,EAAoB,KACxFiB,EAA4EjB,EAAoBO,EAAES,GAClGE,EAA4ClB,EAAoB,KAEhEmB,GADoDnB,EAAoBO,EAAEW,GAC1BlB,EAAoB,MACpEoB,EAAwDpB,EAAoBO,EAAEY,EEtBvGpB,GAAA,SF8BEsB,KE5BF,iBF6BET,YE5BFU,cAAAF,EAAAN,GF6BES,SACEC,SAAU,SAAkBC,GAC1B,MAAOzB,GAAoB0B,EAAER,EAAuD,cE3B1F,sBACA,2BACA,6BAAAS,KAAA,SAAAC,GAEA,GAAAC,GAAAZ,IAAAW,EAAA,GFyBYE,EAASD,EAAM,GACfE,EAAeF,EAAM,GACrBG,EAAQH,EAAM,EAElBJ,GAAIQ,QAAQC,MAAMC,aE5B1B,EF6BQV,EAAIQ,QAAQC,MAAME,YAAYC,eE1BtC,CF4BQ,IAAIC,GAAe,GAAIP,IACrBQ,IE3BV,0GF4BUC,QE3BV,GF4BUC,eACEC,ME3BZ,yBF4BYC,QAAS,SAAiBC,GAExB,MAAO,YADMC,OAAOC,oBAAoB,OAASF,EAAEG,QAAQC,WAAWC,UE3BpFC,mBACA,gDF+BQzB,GAAI0B,OAAOC,IEzBnBd,EF2BQ,IAAIe,GAAe,GAAIvB,IACrBwB,KAAM7B,EE1BhBQ,QF2BUsB,UACEC,SACEjB,IEzBd,sHF2BYkB,oBE1BZ,aF2BYC,YE1BZ,eF2BYC,cExBZ,KF2BQlC,GAAIQ,QAAQ2B,GAAGR,IAAIC,GACjBQ,SE1BV,WF2BUC,MEvBV,IF0BQT,EAAaU,GAAG,gBAAiB,SAAUC,GACzC,GAAIC,GAAQ,GEzBtBjC,EF0BUiC,GAAMC,WEzBhB,KF0BUD,EAAME,SAAWH,EAAEI,OExB7BC,OF0BU/B,EAAagC,cAAcL,GAAOtC,KAAK,SAAUyC,GAC3CA,EAAOG,SAASC,QAClB/C,EAAIQ,QAAQC,MAAMuC,MAChBC,SAAUV,EAAEI,OEzB5BC,OF0BgBE,SAAUH,EExB1BG,qBFoCMI,IACA,SAAU7E,EAAQ8E,EAAS5E,GG1GjC,GAAA6E,GAAA7E,EAAA,KAEAA,EAAA,KAEAA,EAAA,KAEA,KAEA,KAGAF,GAAA8E,QAAAC,EAAAD,SHiHME,IACA,SAAUhF,EAAQ8E,GI7HxB9E,EAAA8E,SAAgBG,OAAA,WAAmB,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAE,OACAC,GAAA,oBAEGH,EAAA,iBACHI,IAAA,MACAzB,IACAvC,SAAAwD,EAAAxD,eAGCiE,qBJmIKC,IACA,SAAU5F,EAAQ8E,EAAS5E,GAEjCA,EAAoB,KACpBF,EAAO8E,QAAU5E,EAAoB,QAKlC","file":"static/js/app.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 151:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(394);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(391);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#HcWaterQuality',\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n\n/***/ 153:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__ = __webpack_require__(356);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_esri_loader__ = __webpack_require__(385);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_esri_loader___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_esri_loader__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_esri_portal_map__ = __webpack_require__(386);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_esri_portal_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_esri_portal_map__);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'HcWaterQuality',\n  components: { EsriPortalMap: __WEBPACK_IMPORTED_MODULE_2_esri_portal_map___default.a },\n  methods: {\n    mapready: function mapready(map) {\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_esri_loader__[\"loadModules\"])(['esri/widgets/Search', 'esri/layers/FeatureLayer', 'esri/tasks/support/Query']).then(function (_ref) {\n        var _ref2 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default()(_ref, 3),\n            Search = _ref2[0],\n            FeatureLayer = _ref2[1],\n            Query = _ref2[2];\n\n        map.mapview.popup.dockEnabled = true;\n        map.mapview.popup.dockOptions.buttonEnabled = false;\n\n        var featureLayer = new FeatureLayer({\n          url: 'https://maps.hillsboroughcounty.org/arcgis/rest/services/CSC_Viewer/Utilities_Service_Areas/MapServer/3',\n          opacity: 0.5,\n          popupTemplate: {\n            title: '{Potable_Water_System}',\n            content: function content(f) {\n              var pdfSrc = window.potableWaterSystems['pws_' + f.graphic.attributes.OBJECTID].WaterQualityPDFsrc;\n              return '<a href=\"' + pdfSrc + '\" target=\"_blank\">Water Quality Report</a>';\n            }\n          }\n        });\n        map.webmap.add(featureLayer);\n\n        var searchWidget = new Search({\n          view: map.mapview,\n          sources: [{\n            locator: {\n              url: 'https://maps.hillsboroughcounty.org/arcgis/rest/services/Geocoding/Composite_Address_Locator_Overall/GeocodeServer'\n            },\n            singleLineFieldName: \"SingleLine\",\n            placeholder: 'Your Address',\n            popupEnabled: false\n          }]\n        });\n        map.mapview.ui.add(searchWidget, {\n          position: 'top-left',\n          index: 0\n        });\n\n        searchWidget.on('select-result', function (e) {\n          var query = new Query();\n          query.outFields = ['*'];\n          query.geometry = e.result.extent;\n\n          featureLayer.queryFeatures(query).then(function (result) {\n            if (result.features.length) {\n              map.mapview.popup.open({\n                location: e.result.extent,\n                features: result.features\n              });\n            }\n          });\n        });\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 391:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(392)(\n  /* script */\n  __webpack_require__(153),\n  /* template */\n  __webpack_require__(393),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 393:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"HcWaterQuality\"\n    }\n  }, [_c(\"EsriPortalMap\", {\n    tag: \"div\",\n    on: {\n      \"mapready\": _vm.mapready\n    }\n  })])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 395:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(152);\nmodule.exports = __webpack_require__(151);\n\n\n/***/ })\n\n},[395]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#HcWaterQuality',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <div id=\"HcWaterQuality\">\n\n    <div is=\"EsriPortalMap\" @mapready=\"mapready\"></div>\n\n  </div>\n</template>\n\n<script>\nimport { loadModules } from 'esri-loader'\nimport EsriPortalMap from 'esri-portal-map'\n\nexport default {\n  name: 'HcWaterQuality',\n  components: { EsriPortalMap },\n  methods: {\n    mapready (map) {\n      return loadModules([\n        'esri/widgets/Search',\n        'esri/layers/FeatureLayer',\n        'esri/tasks/support/Query'\n      ]).then(([Search, FeatureLayer, Query]) => {\n        // set popup options\n        map.mapview.popup.dockEnabled = true\n        map.mapview.popup.dockOptions.buttonEnabled = false\n\n        // add feature layer to map\n        const featureLayer = new FeatureLayer({\n          url: 'https://maps.hillsboroughcounty.org/arcgis/rest/services/CSC_Viewer/Utilities_Service_Areas/MapServer/3',\n          opacity: 0.5,\n          popupTemplate: {\n            title: '{Potable_Water_System}',\n            content (f) { // pdf links are not attributes of the feature\n              var pdfSrc = window.potableWaterSystems[`pws_${f.graphic.attributes.OBJECTID}`].WaterQualityPDFsrc\n              return `<a href=\"${pdfSrc}\" target=\"_blank\">Water Quality Report</a>`\n            }\n          }\n        })\n        map.webmap.add(featureLayer)\n\n        // add search widget to map\n        var searchWidget = new Search({\n          view: map.mapview,\n          sources: [{\n            locator: {\n              url: 'https://maps.hillsboroughcounty.org/arcgis/rest/services/Geocoding/Composite_Address_Locator_Overall/GeocodeServer'\n            },\n            singleLineFieldName: \"SingleLine\",\n            placeholder: 'Your Address',\n            popupEnabled: false\n          }]\n        })\n        map.mapview.ui.add(searchWidget, {\n          position: 'top-left',\n          index: 0\n        })\n\n        // when a search result is found, query features & open popup\n        searchWidget.on('select-result', e => {\n          var query = new Query()\n          query.outFields = ['*']\n          query.geometry = e.result.extent\n\n          featureLayer.queryFeatures(query).then(result => {\n            if (result.features.length) {\n              map.mapview.popup.open({\n                location: e.result.extent,\n                features: result.features\n              })\n            }\n          })\n        })\n\n      })\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?4ee52ecb","var Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8a9c1e68\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 391\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"HcWaterQuality\"\n    }\n  }, [_c(\"EsriPortalMap\", {\n    tag: \"div\",\n    on: {\n      \"mapready\": _vm.mapready\n    }\n  })])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-8a9c1e68\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 393\n// module chunks = 1"],"sourceRoot":""}